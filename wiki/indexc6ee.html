<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php?title=VersionControl_FAQ&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:16:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>VersionControl FAQ - SugarWiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.21.1" />
<meta name="robots" content="noindex,follow" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="indexd27b.html?title=VersionControl_FAQ&amp;action=edit" />
<link rel="edit" title="Edit" href="indexd27b.html?title=VersionControl_FAQ&amp;action=edit" />
<link rel="shortcut icon" href="http://sugar.fp.nsn-rdnet.net/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.html" title="SugarWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.html?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="SugarWiki Atom feed" href="index890f.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load618b.html?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.monobook&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load711e.html?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wikidb:resourceloader:filter:minify-css:7:7a3748d34e6456ae8d0f053363f745f7 */</style>

<script src="loadaa7b.html?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"VersionControl_FAQ","wgTitle":"VersionControl FAQ","wgCurRevisionId":8237,"wgArticleId":1340,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"VersionControl_FAQ","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: wikidb:resourceloader:filter:minify-js:7:a02a7fa766593347c4dbb130a7c3803e */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-VersionControl_FAQ skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">VersionControl FAQ</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From SugarWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#How_are_the_test_cases_and_results_stored.3F"><span class="tocnumber">1</span> <span class="toctext">How are the test cases and results stored?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#How_to_browse_version_control_content.3F"><span class="tocnumber">2</span> <span class="toctext">How to browse version control content?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#How_to_checkout_test_cases.3F"><span class="tocnumber">3</span> <span class="toctext">How to checkout test cases?</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Checkout_of_single_test_case_or_domain_with_tcsvn_script"><span class="tocnumber">3.1</span> <span class="toctext">Checkout of single test case or domain with tcsvn script</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Checkout_of_single_testcase_or_domain_with_svn_commands"><span class="tocnumber">3.2</span> <span class="toctext">Checkout of single testcase or domain with svn commands</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#How_to_debug_test_cases.3F"><span class="tocnumber">4</span> <span class="toctext">How to debug test cases?</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#What_if_the_test_case_uses_some_custom_test_applications.3F"><span class="tocnumber">5</span> <span class="toctext">What if the test case uses some custom test applications?</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#How_to_commit_changes_to_version_control.3F"><span class="tocnumber">6</span> <span class="toctext">How to commit changes to version control?</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#What_should_be_written_to_the_commit_log.3F"><span class="tocnumber">7</span> <span class="toctext">What should be written to the commit log?</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#How_to_execute_release_version_of_test_case.3F"><span class="tocnumber">8</span> <span class="toctext">How to execute release version of test case?</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#What_should_be_stored_to_the_version_control.3F"><span class="tocnumber">9</span> <span class="toctext">What should be stored to the version control?</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#How_to_add_new_files.2Fdirectories_to_SVN.3F"><span class="tocnumber">10</span> <span class="toctext">How to add new files/directories to SVN?</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#How_to_copy_files_from_one_directory_structure_to_other.3F"><span class="tocnumber">11</span> <span class="toctext">How to copy files from one directory structure to other?</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#How_to_delete_files.2Fdirectories_from_SVN.3F"><span class="tocnumber">12</span> <span class="toctext">How to delete files/directories from SVN?</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#How_to_recover_deleted_files.2Fdirectories.3F"><span class="tocnumber">13</span> <span class="toctext">How to recover deleted files/directories?</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#How_to_rename_files.2Fdirectories.3F"><span class="tocnumber">14</span> <span class="toctext">How to rename files/directories?</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#How_to_see_what_changes_you_have_done_to_some_file.3F"><span class="tocnumber">15</span> <span class="toctext">How to see what changes you have done to some file?</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#How_to_update_working_copy.3F"><span class="tocnumber">16</span> <span class="toctext">How to update working copy?</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#How_to_revert_changes.3F"><span class="tocnumber">17</span> <span class="toctext">How to revert changes?</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#What_should_not_be_done_with_version_control.3F"><span class="tocnumber">18</span> <span class="toctext">What should not be done with version control?</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Troubleshooting"><span class="tocnumber">19</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#warning:_.27Foo.27_is_already_under_version_control"><span class="tocnumber">19.1</span> <span class="toctext">warning: 'Foo' is already under version control</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Testcase_checkout_is_really_slow"><span class="tocnumber">19.2</span> <span class="toctext">Testcase checkout is really slow</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="How_are_the_test_cases_and_results_stored.3F"> How are the test cases and results stored? </span></h2>
<p>Test case scripts and results are split up to separate directory hierarchies. Test cases are stored in SVN repository with following structure:
</p>
<pre>/SVN
  /rel_3
  /rel_4.1
  /rel_4.blue
    /FunctionalTesting
      /Commissioning         
      /DataManagement
        /DBInt
          /FT_DBS_DBInt_001
</pre>
<p>All results of release executions are stored by FlexiTAF in /twafs/results (on iliad.fp.nsn-rdnet.net NFS):
</p>
<pre>/twafs
  /results
    /rel_3
    /rel_4.1
    /rel_4.blue
      /FunctionalTesting
        /Commissioning         
        /DataManagement
          /DBInt
            /FT_DBS_DBInt_001
              /results-2006-06-08_19.43.45
</pre>
<p>Results of debug (i.e. --local) executions are stored to user configurable location typically in user's home directory with a similar directory structure. 
</p><p>Since all the testcases cannot be automated, but you still want to store logs to the /twafs, there is  a place for that in /twafs/logs:
</p>
<pre>/twafs
  /logs
    /rel_3
    /rel_4.1
    /rel_4.blue
      /FunctionalTesting
        /Commissioning         
        /DataManagement
          /DBInt
            /FT_DBS_DBInt_001
</pre>
<p>Old FT directories (pre-2006) in /twafs have been changed read-only so you cannot modify anything there anymore.
</p>
<h2> <span class="mw-headline" id="How_to_browse_version_control_content.3F">How to browse version control content?</span></h2>
<p>The easiest way to browse the version control content is to use web browser and open following link:
</p><p><a rel="nofollow" class="external free" href="http://sugar.fp.nsn-rdnet.net/cgi-bin/viewvc.cgi/">http://sugar.fp.nsn-rdnet.net/cgi-bin/viewvc.cgi/</a>
</p><p>From there you can also see all the history data, what has been modified by who and when.
</p><p>There also other link you can use with browser:
</p><p><a rel="nofollow" class="external free" href="http://sugar.fp.nsn-rdnet.net/svn/testcases/">http://sugar.fp.nsn-rdnet.net/svn/testcases/</a>
</p><p>This doesn't show all the fancy information, but the URL you see always works when you want to checkout test cases from version control (more of that in next chapter).
</p>
<h2> <span class="mw-headline" id="How_to_checkout_test_cases.3F">How to checkout test cases?</span></h2>
<p>Note: With Subversion checking out doesn't mean that some files are locked in the version control and no one else could anymore modify them until you check them in. The checkout-term in Subversion means that you will just make a local copy from the version control.
</p><p>Before you check out anything, please read <a href="#Troubleshooting">Troubleshooting</a>. Checking out testcases to local disk is much faster.
</p>
<h3> <span class="mw-headline" id="Checkout_of_single_test_case_or_domain_with_tcsvn_script">Checkout of single test case or domain with tcsvn script</span></h3>
<p>If you need to execute the test case from you home directory you need to have all the files available which are required by test case. So if your test case has symbolic link to common-directory of FunctionalTesting, then you need to also checkout the common-directory. You also need all the relevant domain.xml files which test case metadata depends on. This all can be achieved with 'tcsvn' helper script. Script will checkout test case directory, all upper level directories non-recursively (to get domain.xml files) and all upper level common-directories.
</p><p>First you should create a directory to your home-directory, where you want to develop test case scripts. For example:
</p>
<pre>mkdir $HOME/svn
</pre>
<p>Go to your svn-directory and checkout the test case:
</p>
<pre>cd $HOME/svn
tcsvn checkout rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
</pre>
<p>Subversion will then copy the test case to your home directory and you can find it from:
</p>
<pre>$HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
</pre>
<p>Usually you want to check out all test cases from one domain. You can do it with following command:
</p>
<pre>tcsvn checkout rel_4.blue/FunctionalTesting/DataManagement/DBInt
</pre>
<p>Type 'tcsvn' without arguments to see all available command line options.
</p>
<h3> <span class="mw-headline" id="Checkout_of_single_testcase_or_domain_with_svn_commands">Checkout of single testcase or domain with svn commands</span></h3>
<p>This chapter describes how you can checkout test case or domain with svn commands without tcsvn script.
</p><p>Go to your svn-directory and checkout the test case:
</p>
<pre>cd $HOME/svn
svn checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001</a> rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
</pre>
<p>Subversion will then copy the test case to your home directory and you can find it from:
</p>
<pre>$HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
</pre>
<p>You may wonder why we have to give that almost same path twice when we checkout the test case. The reason is that because we use lot of relative symbolic links (we should never use absolute symlinks in any cases) in test case, those wouldn't work like they should unless the local copy of the test case wouldn't be in the correct directory hierarchy. If we would simply execute:
</p>
<pre>svn checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001</a>
</pre>
<p>The test case would end up to:
</p>
<pre>$HOME/svn/FT_DBS_DBInt_001
</pre>
<p>Usually you want to check out all test case from one domain. You can do it with following command:
</p>
<pre>svn checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement</a> rel_4.blue/FunctionalTesting/DataManagement
</pre>
<p>The important thing to remember is that if you execute the test case from you home directory (explained in next chapter) you need to have all the files available which are required by test cases. So if your test case has symbolic link to common-directory of FunctionalTesting, then you need to also checkout the common-directory:
</p>
<pre>svn checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/common">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/common</a> rel_4.blue/FunctionalTesting/common
</pre>
<p>If you also want to execute test case locally, you need to ensure that you have checked out all the relevant domain.xml files which test case metadata depends of. This can be easiest done by checking out everything from one release:
</p>
<pre>svn checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue">http://sugar/svn/testcases/rel_4.blue</a> rel_4.blue
</pre>
<p>If you don't want to checkout everything other option is to use non-recursive checkout:
</p>
<pre>svn -N checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue">http://sugar/svn/testcases/rel_4.blue</a> rel_4.blue
svn -N checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement</a> 
svn -N checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt</a> rel_4.blue/FunctionalTesting/DataManagementrel_4.blue/FunctionalTesting/DataManagement/DBInt
svn checkout <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001</a> rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
</pre>
<h2> <span class="mw-headline" id="How_to_debug_test_cases.3F">How to debug test cases?</span></h2>
<p>While developing test case you probably want to execute from your home-directory before committing changes to the version control. The simplest way to execute it, is to use AFCli:
</p>
<pre>afcli -t ftd0 -u root -p ftd0 --path $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt exec FT_DBS_DBInt_001
</pre>
<p>When test case execution is finished the results won't be stored to /twafs/results, but instead to your home directory:
</p>
<pre>$HOME/flexiaf/results/FT_DBS_DBInt_001/results-2006-07-27_15.52.32
</pre>
<p>Nothing is either stored to the database about the execution so cannot see results from web pages.
</p>
<h2> <span class="mw-headline" id="What_if_the_test_case_uses_some_custom_test_applications.3F">What if the test case uses some custom test applications?</span></h2>
<p>Since we're not supposed to store binaries to the version control, we have to make test case automatically compile any required applications. 
</p><p>So for example all the DBInt test cases require specific test application. We have stored source codes to the version control, but not any binaries. To get it automatically compiled we need to create subsystem_meta.xml file to DBInt subdomain directory with following content:
</p>
<pre>&lt;subsystem domain="DataManagement" subdomain="DBInt"&gt;
  &lt;environment&gt;
    &lt;pre&gt;
      &lt;build name="DBInt Solid test application" provider="linsee" make="clearmake" makeargs="-C gnu SOLID=1" makefilepath="../common/src/makefile"&gt;
        &lt;input&gt;
          &lt;fileset path="../common/src"&gt;
            &lt;glob pattern="*.cpp"/&gt;
            &lt;glob pattern="*.h"/&gt;
          &lt;/fileset&gt;
          &lt;file path="../common/src/makefile"/&gt;
        &lt;/input&gt;
        &lt;output&gt;
          &lt;file path="../common/src/TestApplication_SOLID"/&gt;
        &lt;/output&gt;
      &lt;/build&gt;
      &lt;build name="DBInt Timesten test application" provider="linsee" make="clearmake" makeargs="-C gnu TIMESTEN=1" makefilepath="../common/src/makefile"&gt;
        &lt;input&gt;
          &lt;fileset path="../common/src"&gt;
            &lt;glob pattern="*.cpp"/&gt;
            &lt;glob pattern="*.h"/&gt;
          &lt;/fileset&gt;
          &lt;file path="../common/src/makefile"/&gt;
        &lt;/input&gt;
        &lt;output&gt;
          &lt;file path="../common/src/TestApplication_TT"/&gt;
        &lt;/output&gt;
      &lt;/build&gt;
    &lt;/pre&gt;
  &lt;/environment&gt;
&lt;/subsystem&gt;
</pre>
<p><br />
So we have defined two build-tasks to the metadata file which will compiled two versions of the DBInt test application: one for Solid and other for Timesten. The binaries will be then automatically copied to the target with test case, so no symlinks or anything are required. And since we added those tasks to the subdomain level, all test cases which belong to that subdomain will automatically compile the application when we try to execute them:
</p>
<pre>afcli -t ftd0 -u root -p ftd0 --path $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt exec FT_DBS_DBInt_001
</pre>
<p>When the application is being compiled, it might take several minutes and you will only see following text:
</p>
<pre>TCExecFramework 0.4.0. Copyright Nokia Networks
AFCLI 0.4.1 (20060726 1142 debug_info)

Starting execution
Executing pre-tasks
</pre>
<p>When the execution is finished, the content of flexiaf-directory has changed a bit:
</p>
<pre>/$HOME
  /flexiaf
    /results
    /bins
      /svn
        /rel_4.blue
          /FunctionalTesting
            /DataManagement
              /DBInt
                /common
                  /src
                    /R_FSPR4_1.17.1.8
                      TestApplication_SOLID
                      TestApplication_TT
</pre>
<p>As we can see, all the binaries are cached for later use. If the test case is execute again and none of the source files have been changed, the execution won't take any longer than usually. All the binaries are also compiled using the view in clearcase which matches with your target's build. So it's easy to run same test case in different environments and you can be always sure that the compiled binary in compatible with the libraries in the cluster.
</p><p>When something fails with the compilation, you see following output:
</p>
<pre>TCExecFramework 0.4.0. Copyright Nokia Networks
AFCLI 0.4.1 (20060726 1142 debug_info)

Starting execution
Executing pre-tasks
Error while processing testcase FT_DBS_DBInt_001
Error while processing command:
       Error during execution

       Caused: addStaticExcecution() failed to unhandled exception
               Caused: Exception caused by task &lt;build&gt;
                       Caused: Error while building
                               Caused: Test application compilation failed. Process execution failed
</pre>
<p>To investigate the cause for the error, you should read the following log:
</p>
<pre>$HOME/flexiaf/results/FT_DBS_DBInt_001/results-2006-07-27_15.52.32/pre_tasks.log
</pre>
<p>The log contains information about all the tasks which were executed. From the build-task it stores all the output of the compilation phase.
</p>
<h2> <span class="mw-headline" id="How_to_commit_changes_to_version_control.3F">How to commit changes to version control?</span></h2>
<p>When test case works and you probably want to commit changes to the version control. First it's good practice to verify what you have modified. For example tc-script has been modified of FT_DBS_DBInt_001:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
svn status
</pre>
<p>I can see following output:
</p>
<pre>M      tcexec/tc
</pre>
<p>Which means that the tcexec/tc file has been modified. The meaning of all codes can be found from here: <a rel="nofollow" class="external free" href="http://svnbook.red-bean.com/nightly/en/svn-book.html#svn.tour.cycle.examine.status">http://svnbook.red-bean.com/nightly/en/svn-book.html#svn.tour.cycle.examine.status</a>
</p><p>After that we can just commit changes:
</p>
<pre>svn commit
</pre>
<p>It will open vi for you to where you can write the changelog of your commit.
</p><p>If you have modified multiple test cases of some domain, you can go to the domain directory instead and then commit. Then it will commit changes from all the test cases.
</p>
<h2> <span class="mw-headline" id="What_should_be_written_to_the_commit_log.3F">What should be written to the commit log?</span></h2>
<p>When you commit something to the version control, write short description which explains why modification was required. For example, if someone modifies your scripts when you're on the vacation, it's probably much more comfortable to read from the logs what was the reason for the modification than to see empty log message there.
</p>
<h2> <span class="mw-headline" id="How_to_execute_release_version_of_test_case.3F">How to execute release version of test case?</span></h2>
<p>It takes up to 1min before changes of your commit are propagated to the Automation Frame.
</p><p>After that to make real execution, you can do it with AFCli:
</p>
<pre>afcli -t ftd0 -u root -p ftd0 exec FT_DBS_DBInt_001
</pre>
<p>The result of the execution will be stored to the database and you can find results from:
</p>
<pre>/twafs/results/rel_4.blue/FunctionalTesting/DataManagement/DBInt
</pre>
<p>If the test case requires some binaries, those will be compiled and stored to:
</p>
<pre>/twafs/bins
</pre>
<p>Note that both directories are read-only.
</p>
<h2> <span class="mw-headline" id="What_should_be_stored_to_the_version_control.3F">What should be stored to the version control?</span></h2>
<p>The version control should only contain:
</p>
<ul><li>Source codes
</li><li>scripts
</li><li>Configuration files, which cannot be created dynamically
</li></ul>
<p>What shouldn't be stored to version control:
</p>
<ul><li>Binaries
</li><li>Object files of the compilation
</li><li>Log files
</li><li>Backup files
</li><li>Testcase results
</li><li>Tcexec.conf files
</li><li>Tar/zip/jar/etc packages
</li></ul>
<h2> <span class="mw-headline" id="How_to_add_new_files.2Fdirectories_to_SVN.3F">How to add new files/directories to SVN?</span></h2>
<p>New files and directories can be added to the version control using 'svn add'-command. For example we want to add metadata file to DBInt testcase:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
vi testcase_meta.xml
svn add testcase_meta.xml
svn commit
</pre>
<p>Same thing works for directories:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt
mkdir common
cd common
vi COMMON_FUNCTIONS
cd ..
svn add common
svn commit 

</pre>
<p>All the files in common will be also added.
</p><p>There is also alternative method:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt
svn mkdir common
cd common
vi COMMON_FUNCTIONS
svn add COMMON_FUNCTIONS
</pre>
<p><br />
</p>
<h2> <span class="mw-headline" id="How_to_copy_files_from_one_directory_structure_to_other.3F"> How to copy files from one directory structure to other? </span></h2>
<p>Copying files from one directory structure to some other should be avoided, if possible. In some cases this is, however, needed. E.g. if you want to take some scripts as a basis for further development in some other directory (e.g. some test cases from rel_4.blue to rel_4.nsr-oms-ed).
</p><p>In those cases, the 'svn cp' -command should be used to copy the needed files. Here is an example of using this command: 
</p>
<pre>svn cp <a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/HighAvailibilityServices/SS_CFM/FT_HAS_CFM_001">http://sugar/svn/testcases/rel_4.blue/FunctionalTesting/HighAvailibilityServices/SS_CFM/FT_HAS_CFM_001</a>
<a rel="nofollow" class="external free" href="http://sugar/svn/testcases/rel_4.nsr-oms-ed/FunctionalTesting/HighAvailibilityServices/SS_CFM/FT_HAS_CFM_001">http://sugar/svn/testcases/rel_4.nsr-oms-ed/FunctionalTesting/HighAvailibilityServices/SS_CFM/FT_HAS_CFM_001</a> 
</pre>
<p>This command copies the files and directories recursively directly to svn directory structure. To get the files visible in your working directory, you need still do the 'svn chechout' for the components you want to modify. (or 'svn update' if you have done checkout for those components already)
</p><p>Only TWA admins (TFRM team members) can copy directories on or higher than subdomain level. In these cases ask help from TFRM team members.
</p>
<h2> <span class="mw-headline" id="How_to_delete_files.2Fdirectories_from_SVN.3F">How to delete files/directories from SVN?</span></h2>
<p>When you notice that there are some useless files in the version control, you should delete them. Note that nothing cannot be deleted permanently. For example we have one file in test case directory which we want to get rid of:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
svn delete old.log
svn commit

</pre>
<p>Same thing works also for directories:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/FT_DBS_DBInt_001
svn delete backup
svn commit

</pre>
<h2> <span class="mw-headline" id="How_to_recover_deleted_files.2Fdirectories.3F">How to recover deleted files/directories?</span></h2>
<p>Subversion stores information about all the changes made to the repository. The recovery process is rather complex and should be only done by administrators, so if you want to get some file recovered contact TFRM-team.
</p>
<h2> <span class="mw-headline" id="How_to_rename_files.2Fdirectories.3F">How to rename files/directories?</span></h2>
<p>Sometimes we might want to rename existing files or directories. We can do it simply by using 'svn rename'. For example if we have accidentally created directory with wrong name and added it to the version control we can still easily rename it:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt
svn rename comon common
svn commit
</pre>
<p>The directory comon would be then renamed to common.
</p>
<h2> <span class="mw-headline" id="How_to_see_what_changes_you_have_done_to_some_file.3F">How to see what changes you have done to some file?</span></h2>
<p>If you're doing more changes to the multiple files at the same time, you might want to see before you commit anything what was exactly modified. We can see the difference of the working copy and the file in version control using 'svn diff':
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/common/src
svn diff main.cpp
</pre>
<h2> <span class="mw-headline" id="How_to_update_working_copy.3F">How to update working copy?</span></h2>
<p>When you have checked out files from the version control, someone else might have committed changes to them. To update your working copy you can use 'svn update' command:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt
svn update
</pre>
<h2> <span class="mw-headline" id="How_to_revert_changes.3F">How to revert changes?</span></h2>
<p>If you have modified file and then decide to not commit it you can easily revert it:
</p>
<pre>cd $HOME/svn/rel_4.blue/FunctionalTesting/DataManagement/DBInt/common/src
svn revert main.cpp
</pre>
<h2> <span class="mw-headline" id="What_should_not_be_done_with_version_control.3F">What should not be done with version control?</span></h2>
<p>There are simple permission levels configured to prevent for example accidential release directory modifications. The rules might not be perfect so please don't try what can be done, since it makes the system unavailable for other users when have to rollback changes.
</p><p>There's no restriction what can be modified at testcase level, but please don't create your own branches or tags even if you could.
</p>
<h2> <span class="mw-headline" id="Troubleshooting"> Troubleshooting </span></h2>
<h3> <span class="mw-headline" id="warning:_.27Foo.27_is_already_under_version_control"> warning: 'Foo' is already under version control </span></h3>
<p>This error may occur when you try to add a testcase directory, that has been copied from somewhere else, to the repository with "svn add" command. The problem is caused by the ".svn" directories incorrectly located inside the directory you are trying to add. 
</p><p>The best solution is to use "svn copy" command to copy testcases from one place to another. 
</p><p>If you already have a directory that you need to add to the repository, and it contains ".svn" directories, you can manually remove all ".svn" directories, after which it sould be possible to perform the add operation.
</p>
<h3> <span class="mw-headline" id="Testcase_checkout_is_really_slow"> Testcase checkout is really slow </span></h3>
<p>HOME-directories are mounted using NFS and the used NFS-server (some Solaris box) is quite slow for operations concerning lot of small files. For this reason you can use local disks in flexiaf1/2/7 for storing your local copies of testcases. So just create a directory and use it:
</p>
<pre>mkdir /localhome/$USER
cd /localhome/$USER
svn co ...
</pre>
<p>Remember to change the paths in $HOME/.flexitaf/flexitaf.xml to point to the new location.
</p><p>Note: There is no backup for the files in /localhome!
</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 99/1000000
Preprocessor generated node count: 116/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1340-0!*!*!!en!*!* and timestamp 20240823044205 -->
</div><div class="printfooter">
Retrieved from "<a href="indexd8d0.html?title=VersionControl_FAQ&amp;oldid=8237">http://sugar.fp.nsn-rdnet.net/wiki/index.php?title=VersionControl_FAQ&amp;oldid=8237</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<h2>Navigation menu</h2>
	<div id="p-cactions" class="portlet" role="navigation">
		<h3>Views</h3>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php/VersionControl_FAQ.html" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="indexce32.html?title=Talk:VersionControl_FAQ&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="indexd27b.html?title=VersionControl_FAQ&amp;action=edit" primary="1" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="index4b6c.html?title=VersionControl_FAQ&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal" role="navigation">
		<h3>Personal tools</h3>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="index.php/User_10.143.81.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.143.81.182</a></li>
				<li id="pt-anontalk"><a href="index.php/User_talk_10.143.81.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
				<li id="pt-createaccount"><a href="index567c.html?title=Special:UserLogin&amp;returnto=VersionControl+FAQ&amp;returntoquery=printable%3Dyes&amp;type=signup">Create account</a></li>
				<li id="pt-anonlogin"><a href="indexa2c9.html?title=Special:UserLogin&amp;returnto=VersionControl+FAQ&amp;returntoquery=printable%3Dyes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo" role="banner">
<a href="index.php/Main_Page.html" style="background-image: url(skins/common/images/wiki.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="index.php/Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="index.php/SugarWiki_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="index.php/SugarWiki_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="index.php/Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="index.php/POC_(Chengdu).html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="index.php/Help_Contents.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet" role="search">
		<h3><label for="searchInput">Search</label></h3>
		<div id="searchBody" class="pBody">
			<form action="http://sugar.fp.nsn-rdnet.net/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search SugarWiki [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb" role="navigation">
		<h3>Toolbox</h3>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="index.php/Special_WhatLinksHere/VersionControl_FAQ.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="index.php/Special_RecentChangesLinked/VersionControl_FAQ.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="index.php/Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-permalink"><a href="indexd8d0.html?title=VersionControl_FAQ&amp;oldid=8237" title="Permanent link to this revision of the page">Permanent link</a></li>
				<li id="t-info"><a href="indexdedc.html?title=VersionControl_FAQ&amp;action=info">Page information</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer" role="contentinfo">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 20 April 2009, at 12:33.</li>
		<li id="viewcount">This page has been accessed 2,262 times.</li>
		<li id="privacy"><a href="index.php/SugarWiki_Privacy_policy.html" title="SugarWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="index.php/SugarWiki_About.html" title="SugarWiki:About">About SugarWiki</a></li>
		<li id="disclaimer"><a href="index.php/SugarWiki_General_disclaimer.html" title="SugarWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi"], null, true);
}</script>
<script src="load17b7.html?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;printable=1&amp;skin=monobook&amp;*"></script>
<!-- Served in 0.225 secs. --></body>
<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php?title=VersionControl_FAQ&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:16:34 GMT -->
</html>