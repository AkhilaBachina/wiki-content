<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php/FP5-Cat_Commissioning_virtual_environment by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:10:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>FP5-Cat Commissioning virtual environment - SugarWiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.21.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="../index7b3d.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit" />
<link rel="edit" title="Edit" href="../index7b3d.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit" />
<link rel="shortcut icon" href="http://sugar.fp.nsn-rdnet.net/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.html" title="SugarWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="../api251f.html?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="SugarWiki Atom feed" href="../index890f.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../load5c1d.html?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../load484a.html?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wikidb:resourceloader:filter:minify-css:7:7a3748d34e6456ae8d0f053363f745f7 */</style>

<script src="../load9316.html?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"FP5-Cat_Commissioning_virtual_environment","wgTitle":"FP5-Cat Commissioning virtual environment","wgCurRevisionId":6216,"wgArticleId":1850,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"FP5-Cat_Commissioning_virtual_environment","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: wikidb:resourceloader:filter:minify-js:7:a02a7fa766593347c4dbb130a7c3803e */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-FP5-Cat_Commissioning_virtual_environment skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">FP5-Cat Commissioning virtual environment</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From SugarWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><b>NOTE: This material is for your information only and we cannot provide detailed support regarding setting up a virtual environment.</b> <br />
<b>If you have corrections, comments or additional information (e.g., further tested combinations of Linux and VMware) to be updated to this page, please just send email to <a rel="nofollow" class="external text" href="mailto:aliki.ott@nsn.com">Aliki Ott</a>.</b>
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#General_instructions"><span class="tocnumber">1</span> <span class="toctext">General instructions</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Commissioning_virtual_environment_--_Links"><span class="tocnumber">2</span> <span class="toctext">Commissioning virtual environment -- Links</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Installing_VMware"><span class="tocnumber">3</span> <span class="toctext">Installing VMware</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Installing_VMware_server_on_Linux"><span class="tocnumber">3.1</span> <span class="toctext">Installing VMware server on Linux</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Preparation_steps"><span class="tocnumber">3.1.1</span> <span class="toctext">Preparation steps</span></a>
<ul>
<li class="toclevel-4 tocsection-6"><a href="#Tested_combinations_of_Linux_and_VMware_Software"><span class="tocnumber">3.1.1.1</span> <span class="toctext">Tested combinations of Linux and VMware Software</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-7"><a href="#Installation_and_configuration_steps"><span class="tocnumber">3.1.2</span> <span class="toctext">Installation and configuration steps</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Installing_VMware_server_on_Windows"><span class="tocnumber">3.2</span> <span class="toctext">Installing VMware server on Windows</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Instructions_for_creating_virtual_FEWS_in_VMWare_Server_.28for_Windows.29"><span class="tocnumber">3.2.1</span> <span class="toctext">Instructions for creating virtual FEWS in VMWare Server (for Windows)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Commissioning_virtual_environment_using_two_virtual_machines_on_one_vmware_host"><span class="tocnumber">4</span> <span class="toctext">Commissioning virtual environment using two virtual machines on one vmware host</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Preparation_steps_2"><span class="tocnumber">4.1</span> <span class="toctext">Preparation steps</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Installation_and_configuration_steps_2"><span class="tocnumber">4.2</span> <span class="toctext">Installation and configuration steps</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#FEWS_virtual_machine"><span class="tocnumber">4.2.1</span> <span class="toctext">FEWS virtual machine</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Cluster_virtual_machine"><span class="tocnumber">4.2.2</span> <span class="toctext">Cluster virtual machine</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Commissioning_the_cluster"><span class="tocnumber">4.3</span> <span class="toctext">Commissioning the cluster</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#Prepare_FEWS_for_commissioning"><span class="tocnumber">4.3.1</span> <span class="toctext">Prepare FEWS for commissioning</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Commissioning"><span class="tocnumber">4.3.2</span> <span class="toctext">Commissioning</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Commissioning_virtual_environment_using_the_Linux_vmware_host_as_FEWS"><span class="tocnumber">5</span> <span class="toctext">Commissioning virtual environment using the Linux vmware host as FEWS</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Preparation_steps_3"><span class="tocnumber">5.1</span> <span class="toctext">Preparation steps</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Installing_the_cluster_virtual_machine"><span class="tocnumber">5.2</span> <span class="toctext">Installing the cluster virtual machine</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Commissioning_the_cluster_2"><span class="tocnumber">5.3</span> <span class="toctext">Commissioning the cluster</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Preparing_the_FEWS_.28FEWS_.3D_VMware_host.29"><span class="tocnumber">5.3.1</span> <span class="toctext">Preparing the FEWS (FEWS = VMware host)</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Commissioning_the_cluster_3"><span class="tocnumber">5.3.2</span> <span class="toctext">Commissioning the cluster</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Configure_the_cluster_virtual_machine_for_future_commissioning"><span class="tocnumber">5.3.3</span> <span class="toctext">Configure the cluster virtual machine for future commissioning</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Prepare_the_cluster_virtual_machine_for_automated_testing"><span class="tocnumber">5.3.4</span> <span class="toctext">Prepare the cluster virtual machine for automated testing</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</td></tr></table>
<h2><span class="editsection">[<a href="../index32b1.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=1" title="Edit section: General instructions">edit</a>]</span> <span class="mw-headline" id="General_instructions"> General instructions </span></h2>
<p>The general instructions are given in the document <a rel="nofollow" class="external text" href="https://pi.inside.nokiasiemensnetworks.com/urn.htm?id=09006c37817b1824&amp;DMW_DOCBASE=espoo11&amp;auth=T&amp;version=current&amp;document_id=13-651785">Quickguide for FP5-Cat Virtual Environment Setup and Commissioning</a> which summarizes all previous wiki pages and instructions.
</p><p>The sequence of reading should therefore be:
</p>
<ol><li> the document <a rel="nofollow" class="external text" href="https://pi.inside.nokiasiemensnetworks.com/urn.htm?id=09006c37817b1824&amp;DMW_DOCBASE=espoo11&amp;auth=T&amp;version=current&amp;document_id=13-651785">Quickguide for FP5-Cat Virtual Environment Setup and Commissioning</a>
</li><li> the <a href="Integration_Project_FP5_Cat_BI_FAQ.html" title="Integration Project FP5 Cat BI FAQ"> BI FAQ wiki page</a>
</li><li> this wiki page
</li><li> the (maybe already outdated) wiki page provided by Kari Hautio (<a rel="nofollow" class="external text" href="http://wikis.inside.nokiasiemensnetworks.com/bin/view/FlexiPlatform/FlexiInVMware">Flexi in VMware</a>)
</li></ol>
<h2><span class="editsection">[<a href="../index52b8.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=2" title="Edit section: Commissioning virtual environment -- Links">edit</a>]</span> <span class="mw-headline" id="Commissioning_virtual_environment_--_Links"> Commissioning virtual environment -- Links </span></h2>
<ul><li> <a rel="nofollow" class="external text" href="File_VMWare_Installation_Instructions.html">Quickguide for FP5-Cat Virtual Environment Setup and Commissioning (Word document)</a>
</li><li> <a href="Integration_Project_FP5_Cat_BI_FAQ.html" title="Integration Project FP5 Cat BI FAQ">BI FAQ wiki page</a>
</li><li> <a rel="nofollow" class="external text" href="http://wikis.inside.nokiasiemensnetworks.com/bin/view/FlexiPlatform/FlexiInVMware">Wiki page provided and updated by Kari Hautio</a>
</li></ul>
<h2><span class="editsection">[<a href="../index7874.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=3" title="Edit section: Installing VMware">edit</a>]</span> <span class="mw-headline" id="Installing_VMware"> Installing VMware </span></h2>
<h3><span class="editsection">[<a href="../indexa136.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=4" title="Edit section: Installing VMware server on Linux">edit</a>]</span> <span class="mw-headline" id="Installing_VMware_server_on_Linux"> Installing VMware server on Linux </span></h3>
<h4><span class="editsection">[<a href="../indexc341.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=5" title="Edit section: Preparation steps">edit</a>]</span> <span class="mw-headline" id="Preparation_steps"> Preparation steps </span></h4>
<ol><li> set up VMware host with Linux (<a href="FP5-Cat_Commissioning_virtual_environment.html#Tested_combinations_of_Linux_and_VMware_Software" title="FP5-Cat Commissioning virtual environment">tested combinations of Linux and VMware SW</a>)
</li><li> install xinetd (if not already installed) and start the service
</li><li> get the VMware server RPM and a serial number from lab support
</li></ol>
<h5><span class="editsection">[<a href="../indexf6bb.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=6" title="Edit section: Tested combinations of Linux and VMware Software">edit</a>]</span> <span class="mw-headline" id="Tested_combinations_of_Linux_and_VMware_Software"> Tested combinations of Linux and VMware Software </span></h5>
<ul><li> RHEL4-U4-i386 and VMware Server 1.0.4: ok
</li><li> RHEL4-U6-i386 and VMware Server 1.0.4: ok (also on x86_64 architecture like HP ProLiant and IBM BladeCenter)
</li><li> latest NOEL 4 and VMware Server 1.0.4: ok
</li><li> Linux EE NOEL 5.0.1 and VMware Server 1.0.4: not working
</li></ul>
<h4><span class="editsection">[<a href="../index5fb7.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=7" title="Edit section: Installation and configuration steps">edit</a>]</span> <span class="mw-headline" id="Installation_and_configuration_steps"> Installation and configuration steps </span></h4>
<ol><li> Install the VMWare rpm<br />$ rpm -ivh VMware-server-1.0.4-56528.i386.rpm
</li><li> Execute "vmware-config.pl"
<ol><li> Accept the terms and conditions
</li><li> Accept the default directories when asked
</li><li> Enable networking (bridged, NAT and host only; one network each) and let vmware find unused subnets (use the default names for the networks which is vmnet0 for a bridged interface, vmnet1 for a host-only interface, vmnet8 for a NAT network)
</li><li> Provide the serial number
</li></ol>
</li><li> Start VMware server using "vmware" command (opens a window)
</li></ol>
<h3><span class="editsection">[<a href="../index761e.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=8" title="Edit section: Installing VMware server on Windows">edit</a>]</span> <span class="mw-headline" id="Installing_VMware_server_on_Windows"> Installing VMware server on Windows </span></h3>
<ol><li>Download VMWare Server from www.vmware.com
</li></ol>
<ul><li> You need to register to get the VMWare Server
</li><li> Windows XP and VMWare Server 1.0.5 have been tested: ok
</li></ul>
<h4><span class="editsection">[<a href="../index723e.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=9" title="Edit section: Instructions for creating virtual FEWS in VMWare Server (for Windows)">edit</a>]</span> <span class="mw-headline" id="Instructions_for_creating_virtual_FEWS_in_VMWare_Server_.28for_Windows.29">Instructions for creating virtual FEWS in VMWare Server (for Windows)</span></h4>
<p>On VMWare Server Console, select:
</p>
<ul><li> New Virtual Machine (a wizard will be opened)
<ul><li> Typical
</li><li> Linux: Red Hat Enterprise Linux 4
</li><li> Give a name to your virtual machine
</li><li> Use bridged networking
</li><li> Create a new virtual disk: 12GB
<ul><li> Uncheck <i>Allocate disk space now</i>
</li></ul>
</li></ul>
</li></ul>
<ul><li>After creating the virtual machine, edit its settings
<ul><li> Memory: 512MB
</li><li> Add new Ethernet device: Host only
</li></ul>
</li></ul>
<p>From now on, you can follow the instructions in <b>Commissioning virtual environment using two virtual machines on one vmware host</b>
</p>
<hr />
<h2><span class="editsection">[<a href="../indexece9.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=10" title="Edit section: Commissioning virtual environment using two virtual machines on one vmware host">edit</a>]</span> <span class="mw-headline" id="Commissioning_virtual_environment_using_two_virtual_machines_on_one_vmware_host"> Commissioning virtual environment using two virtual machines on one vmware host </span></h2>
<p>Two virtual machines (running on one vmware host) are dedicated as follows:
</p>
<ul><li> first virtual machine is used as FEWS
</li><li> second virtual machine is for the target
</li></ul>
<p>These instructions have been tested on a HPProLiant used as the vmware host. 
</p>
<h3><span class="editsection">[<a href="../index0200.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=11" title="Edit section: Preparation steps">edit</a>]</span> <span class="mw-headline" id="Preparation_steps_2"> Preparation steps </span></h3>
<ol><li> Install and configure VMware server as described <a href="FP5-Cat_Commissioning_virtual_environment.html#Installing_VMware_server_on_Linux" title="FP5-Cat Commissioning virtual environment">here</a>
</li><li> Get the CD to install FEWS (from Lab support)
</li><li> Get a IP address range to be used for the VMware host, the FEWS, the cluster's directory, the cluster's TargetInfo
</li><li> Get NTP and DNS IP addresses
</li><li> Get the empty node image "FP5-CLA-0.zip" from <a rel="nofollow" class="external text" href="http://wikis.inside.nokiasiemensnetworks.com/bin/view/FlexiPlatform/FlexiInVMware">here</a>
</li><li> Get the fsetup config example from <a rel="nofollow" class="external text" href="http://wikis.inside.nokiasiemensnetworks.com/bin/view/FlexiPlatform/FlexiInVMware">here</a>
</li></ol>
<h3><span class="editsection">[<a href="../indexeae6.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=12" title="Edit section: Installation and configuration steps">edit</a>]</span> <span class="mw-headline" id="Installation_and_configuration_steps_2"> Installation and configuration steps </span></h3>
<h4><span class="editsection">[<a href="../index1f33.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=13" title="Edit section: FEWS virtual machine">edit</a>]</span> <span class="mw-headline" id="FEWS_virtual_machine"> FEWS virtual machine </span></h4>
<ol><li> Create an image for FEWS in directory /var/lib/vmware/Virtual\ Machine/ 
</li><li> Put the FEWS CD 
</li><li> Start GUI -&gt; Typical -&gt; Linux(RHEL4) -&gt; Name
</li><li> Bridged connection
</li><li> Disk 12G (but do not allocate disk space)
</li><li> Edit virtual machine
<ol><li> Set memory to 512
</li><li> Add -&gt; Ethernet adapter -&gt; host-only private network, shared with host
</li></ol>
</li><li> power on virtual machine
</li><li> boot: fews and enter, so that it installs from CD
</li><li> after installation, remove CD and reboot
</li><li> network setup -&gt; eth0 -&gt; set the IP address (<i>FEWS IP address from the requested IP address range</i>) -&gt; subnet (255.255.255.0) -&gt; gateway (255.255.255.1)
</li><li> Disable firewall
</li><li> Set date and time (NTP address: 10.102.12.68)
</li><li> Power off the virtual machine
</li><li> Edit virtual machine
<ol><li> Add -&gt; Ethernet adapater -&gt; NAT
</li><li> Configure the new network with the private subnet (this has been configured during installation of VMware)<br />&lt;PRIVATE_SUBNET&gt;.100 -&gt; &lt;PRIVATE_SUBNET&gt;.1 -&gt; &lt;PRIVATE_SUBNET.1&gt; (NAT for connecting)
</li></ol>
</li></ol>
<h4><span class="editsection">[<a href="../index4909.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=14" title="Edit section: Cluster virtual machine">edit</a>]</span> <span class="mw-headline" id="Cluster_virtual_machine"> Cluster virtual machine </span></h4>
<ol><li> Unzip the empty node image FP5-CLA-0.zip to the directory /var/lib/vmware/Virtual\ Machines/
</li></ol>
<h3><span class="editsection">[<a href="../index2b2d.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=15" title="Edit section: Commissioning the cluster">edit</a>]</span> <span class="mw-headline" id="Commissioning_the_cluster"> Commissioning the cluster </span></h3>
<h4><span class="editsection">[<a href="../index6a28.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=16" title="Edit section: Prepare FEWS for commissioning">edit</a>]</span> <span class="mw-headline" id="Prepare_FEWS_for_commissioning"> Prepare FEWS for commissioning </span></h4>
<ol><li> Power on FEWS virtual machine
</li><li> Copy build, OS, test certificates,  FEWS tools to the FEWS 
<ol><li> build from: /workflexman/CI/rpm/R_FSPR5CAT_1.4.1.1.debug_WR.32.XXXXX_GenericWRx86
</li><li> OS from /build/WindRiver/wrlinux-XXXXX.tgz
</li><li> testcertificates and FEWS tools from normal place 
</li></ol>
</li><li> Install FEWS tools and FSetup (see normal commissioning quick guide for guidance)
</li><li> Prepare commissioning session on FEWS 
<ol><li> Copy the example fsetup config file
</li><li> Adjust the cluster's FSetup config file
</li><li> Provide IP script file (optionally)
<ol><li> provide IP addresses for available RGs
</li><li> provide dedicated IP address for TargetInfo (if cluster shall be used for automated testing)
</li><li> add IP script path to the FSetup config file
</li></ol>
</li></ol>
</li></ol>
<h4><span class="editsection">[<a href="../index0d02.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=17" title="Edit section: Commissioning">edit</a>]</span> <span class="mw-headline" id="Commissioning"> Commissioning </span></h4>
<ol><li> Start the commissioning session on FEWS
</li><li> Power on the cluster virtual machine and boot the node from network (default if first commissioning)
</li><li> Type kick
</li><li> If commissioning finished successfully, stop the commissioning session on FEWS
</li><li> Reboot the node
</li><li> run post config (modify the script such that ldapsearch is used, similarly to how MCP-18 and HPProLiant run post config)
</li></ol>
<hr />
<h2><span class="editsection">[<a href="../indexe99f.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=18" title="Edit section: Commissioning virtual environment using the Linux vmware host as FEWS">edit</a>]</span> <span class="mw-headline" id="Commissioning_virtual_environment_using_the_Linux_vmware_host_as_FEWS"> Commissioning virtual environment using the Linux vmware host as FEWS </span></h2>
<p>If the vmware host runs the correct RHEL version (i.e., one version which is supported as FEWS RHEL), it is possible to have only one virtual machine which is used for the target cluster.
</p><p>These instructions have been tested on a normal PC running RHEL4-U4.
</p><p><br />
</p>
<h3><span class="editsection">[<a href="../indexc80f.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=19" title="Edit section: Preparation steps">edit</a>]</span> <span class="mw-headline" id="Preparation_steps_3"> Preparation steps </span></h3>
<ol><li> Install and configure VMware server as described <a href="FP5-Cat_Commissioning_virtual_environment.html#Installing_VMware_server_on_Linux" title="FP5-Cat Commissioning virtual environment">here</a>
</li><li> Get an IP address range to be used for the VMware host, the FEWS, the cluster's directory, the cluster's TargetInfo
</li><li> Get NTP and DNS IP addresses
</li><li> Get the empty node image "FP5-CLA-0.zip" from <a rel="nofollow" class="external text" href="http://wikis.inside.nokiasiemensnetworks.com/bin/view/FlexiPlatform/FlexiInVMware">here</a>
</li><li> Get the FSetup config example (flexiaf1:/twafs/utilities/FlexiAutoCom_configs/delly-ve1/delly-ve1_fsetup.conf)
</li><li> Get the IP script example (flexiaf1:/twafs/utilities/FlexiAutoCom_configs/delly-ve1/delly-ve1_ipscript.sh)
</li><li> Ensure that VMware host has all necessary packages to be used as a FEWS (tftp, dhcpd, ftp server, expect, openldap server, openldap client)
</li></ol>
<h3><span class="editsection">[<a href="../index7ef3.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=20" title="Edit section: Installing the cluster virtual machine">edit</a>]</span> <span class="mw-headline" id="Installing_the_cluster_virtual_machine"> Installing the cluster virtual machine </span></h3>
<ol><li> Unzip the empty node image FP5-CLA-0.zip to the directory /var/lib/vmware/Virtual\ Machines/
</li></ol>
<h3><span class="editsection">[<a href="../index78e1.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=21" title="Edit section: Commissioning the cluster">edit</a>]</span> <span class="mw-headline" id="Commissioning_the_cluster_2"> Commissioning the cluster </span></h3>
<h4><span class="editsection">[<a href="../index9443.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=22" title="Edit section: Preparing the FEWS (FEWS = VMware host)">edit</a>]</span> <span class="mw-headline" id="Preparing_the_FEWS_.28FEWS_.3D_VMware_host.29"> Preparing the FEWS (FEWS = VMware host) </span></h4>
<ol><li> Copy build, OS, test certificates,  FEWS tools to the FEWS 
<ol><li> build from /workflexman/CI/rpm/R_FSPR5CAT_1.4.1.1.debug_WR.32.XXXXX_GenericWRx86
</li><li> OS from /build/WindRiver/wrlinux-XXXXX.tgz
</li><li> testcertificates and FEWS tools from normal place
</li></ol>
</li><li> Install FEWS tools and FSetup (see normal commissioning quick guide for guidance)
</li><li> Prepare commissioning session on FEWS 
<ol><li> Copy the example fsetup config file to /opt/Nokia/fews/etc/
</li><li> Adjust the cluster's FSetup config file
<ol><li> use host-only network interface as commissioning interface (usually vmnet1) (variable COMM_IFACE)
</li><li> set the commissioning network (variable COMM_NETWORK)
</li><li> (optionally) set the commissioning FEWS IP different to the current IP address assigned to vmnet1 (variable COMM_FEWSIP)
</li><li> provide IP script location in variable COMM_IPMGMT_EXTERNAL_IP_SCRIPT
</li></ol>
</li><li> Provide IP script file 
<ol><li> provide IP addresses for available RGs
</li><li> provide dedicated IP address for TargetInfo (if cluster shall be used for automated testing)
</li><li> add IP script path to the FSetup config file
</li></ol>
</li></ol>
</li><li> Provide script to permit ssh root login (optionally)
<ol><li> copy flexiaf1:/twafs/utilities/FlexiAutoCom_configs/delly-ve1/permit_ssh_root_login.sh to FEWS:/opt/Nokia/fews/etc/hotfix.rc/rc4.d/
</li></ol>
</li></ol>
<h4><span class="editsection">[<a href="../indexcb92.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=23" title="Edit section: Commissioning the cluster">edit</a>]</span> <span class="mw-headline" id="Commissioning_the_cluster_3"> Commissioning the cluster </span></h4>
<ol><li> Start the commissioning session on FEWS
</li><li> Power on the cluster virtual machine and boot the node from network (default if first commissioning)
</li><li> Type kick
</li><li> Stop the commissioning session on FEWS if commissioning finished successfully
</li><li> Reboot the node
</li><li> run post config (modify the script such that ldapsearch is used, similarly to how MCP-18 and HPProLiant run post config)
</li><li> permit ssh root login (if not already done by some script during commissioning)
</li><li> shut down the virtual machine
</li><li> edit the virtual machine settings
<ol><li> set second interface of the virtual machine from host-only to bridged network
</li></ol>
</li><li> start the virtual machine
</li><li> ssh to the cluster from outside using the directory IP address should work
</li></ol>
<h4><span class="editsection">[<a href="../index69d4.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=24" title="Edit section: Configure the cluster virtual machine for future commissioning">edit</a>]</span> <span class="mw-headline" id="Configure_the_cluster_virtual_machine_for_future_commissioning"> Configure the cluster virtual machine for future commissioning </span></h4>
<ol><li> stop all commissioning sessions on FEWS 
</li><li> restart the cluster virtual machine
</li><li> enter the BIOS setup by pressing F2 (click first into the console window)
<ol><li> set boot order such that it boots first from network and then from harddisk
</li></ol>
</li><li> restart the cluster virtual machine
</li></ol>
<h4><span class="editsection">[<a href="../index635c.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;section=25" title="Edit section: Prepare the cluster virtual machine for automated testing">edit</a>]</span> <span class="mw-headline" id="Prepare_the_cluster_virtual_machine_for_automated_testing"> Prepare the cluster virtual machine for automated testing </span></h4>
<ol><li> ensure that TargetInfo IP address is configured 
</li><li> unlock TargetInfo RG and RU
</li><li> make cluster known to afcli ("afcli add target &lt;CLUSTER_NAME&gt; tcp://&lt;TARGETINFO_IP_ADDRESS&gt;:443")
</li><li> check after 10-20 minutes that "afcli show cluster CLUSTER_NAME" knows the cluster's release and build
</li></ol>

<!-- 
NewPP limit report
Preprocessor visited node count: 99/1000000
Preprocessor generated node count: 104/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1850-0!*!0!!en!*!* and timestamp 20240823044526 -->
</div><div class="printfooter">
Retrieved from "<a href="../index3f05.html?title=FP5-Cat_Commissioning_virtual_environment&amp;oldid=6216">http://sugar.fp.nsn-rdnet.net/wiki/index.php?title=FP5-Cat_Commissioning_virtual_environment&amp;oldid=6216</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<h2>Navigation menu</h2>
	<div id="p-cactions" class="portlet" role="navigation">
		<h3>Views</h3>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="FP5-Cat_Commissioning_virtual_environment.html" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="../index5f4e.html?title=Talk:FP5-Cat_Commissioning_virtual_environment&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="../index7b3d.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=edit" primary="1" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="../indexb89d.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal" role="navigation">
		<h3>Personal tools</h3>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="User_10.143.81.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.143.81.182</a></li>
				<li id="pt-anontalk"><a href="User_talk_10.143.81.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
				<li id="pt-createaccount"><a href="../indexf8da.html?title=Special:UserLogin&amp;returnto=FP5-Cat+Commissioning+virtual+environment&amp;type=signup">Create account</a></li>
				<li id="pt-anonlogin"><a href="../index0f57.html?title=Special:UserLogin&amp;returnto=FP5-Cat+Commissioning+virtual+environment" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo" role="banner">
<a href="Main_Page.html" style="background-image: url(../skins/common/images/wiki.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="SugarWiki_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="SugarWiki_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="POC_(Chengdu).html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="Help_Contents.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet" role="search">
		<h3><label for="searchInput">Search</label></h3>
		<div id="searchBody" class="pBody">
			<form action="http://sugar.fp.nsn-rdnet.net/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search SugarWiki [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb" role="navigation">
		<h3>Toolbox</h3>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/FP5-Cat_Commissioning_virtual_environment.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/FP5-Cat_Commissioning_virtual_environment.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="../index2448.html?title=FP5-Cat_Commissioning_virtual_environment&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
				<li id="t-permalink"><a href="../index3f05.html?title=FP5-Cat_Commissioning_virtual_environment&amp;oldid=6216" title="Permanent link to this revision of the page">Permanent link</a></li>
				<li id="t-info"><a href="../indexe33d.html?title=FP5-Cat_Commissioning_virtual_environment&amp;action=info">Page information</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer" role="contentinfo">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 28 July 2008, at 16:50.</li>
		<li id="viewcount">This page has been accessed 305 times.</li>
		<li id="privacy"><a href="SugarWiki_Privacy_policy.html" title="SugarWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="SugarWiki_About.html" title="SugarWiki:About">About SugarWiki</a></li>
		<li id="disclaimer"><a href="SugarWiki_General_disclaimer.html" title="SugarWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi"], null, true);
}</script>
<script src="../loadc9d9.html?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<!-- Served in 0.374 secs. --></body>
<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php/FP5-Cat_Commissioning_virtual_environment by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:11:29 GMT -->
</html>