<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php/Integration_Project_FP5_Cat_BI_STATUS_WEEK_17 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:37:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Integration Project FP5 Cat BI STATUS WEEK 17 - SugarWiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.21.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="../indexbf07.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit" />
<link rel="edit" title="Edit" href="../indexbf07.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit" />
<link rel="shortcut icon" href="http://sugar.fp.nsn-rdnet.net/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.html" title="SugarWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="../api251f.html?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="SugarWiki Atom feed" href="../index890f.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../load5c1d.html?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../load484a.html?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wikidb:resourceloader:filter:minify-css:7:7a3748d34e6456ae8d0f053363f745f7 */</style>

<script src="../load9316.html?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Integration_Project_FP5_Cat_BI_STATUS_WEEK_17","wgTitle":"Integration Project FP5 Cat BI STATUS WEEK 17","wgCurRevisionId":5352,"wgArticleId":1873,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Integration_Project_FP5_Cat_BI_STATUS_WEEK_17","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: wikidb:resourceloader:filter:minify-js:7:a02a7fa766593347c4dbb130a7c3803e */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Integration_Project_FP5_Cat_BI_STATUS_WEEK_17 skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Integration Project FP5 Cat BI STATUS WEEK 17</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From SugarWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Back to: <a href="Integration_Project_FP5_CAT_BI.html" title="Integration Project FP5 CAT BI"> Integration Project FP5 CAT BI</a>
</p><p>Back to: <a href="Integration_Project_FP5_Cat_BI_STATUS.html" title="Integration Project FP5 Cat BI STATUS"> Integration Project FP5 Cat BI STATUS</a>
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#25.04.2008"><span class="tocnumber">1</span> <span class="toctext">25.04.2008</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#24.04.2008"><span class="tocnumber">2</span> <span class="toctext">24.04.2008</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#23.04.2008"><span class="tocnumber">3</span> <span class="toctext">23.04.2008</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#22.04.2008"><span class="tocnumber">4</span> <span class="toctext">22.04.2008</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#21.04.2008"><span class="tocnumber">5</span> <span class="toctext">21.04.2008</span></a></li>
</ul>
</td></tr></table>
<h2><span class="editsection">[<a href="../index8117.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit&amp;section=1" title="Edit section: 25.04.2008">edit</a>]</span> <span class="mw-headline" id="25.04.2008"> 25.04.2008 </span></h2>
<p><b>UPDATE</b>
</p><p>BUILD: XXX (hacked builds were used)
</p>
<ul><li> Five fixes from Suvendu published.
</li><li> Commissioning should work now. (not yet tested with official build)
</li></ul>
<p><b>TODO</b>
</p>
<ul><li> Commission cluster on Monday.
</li><li> Two more non-critical fixes coming Monday: for perl path and SS_DDBPTypes.sh
</li></ul>
<p><br />
</p><p><br />
</p>
<h2><span class="editsection">[<a href="../indexab9f.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit&amp;section=2" title="Edit section: 24.04.2008">edit</a>]</span> <span class="mw-headline" id="24.04.2008"> 24.04.2008 </span></h2>
<p><b>UPDATE</b>
</p><p>BUILD: XXX (hacked builds were used)
</p>
<ul><li> Suvendu M. and Pasi J. were able to hack build to make it commissionable again. There were also able to bring up HAS. These hacks now need to be integrated to build. Following mail from Suvendu explains situation in more detail:
</li></ul>
<pre>
Hi,
With several hacks, now we are able to successfully commission the system. After boot it start the HAS (hack in starter.sh, removal of LD_LIBRARY_PATH, BI already know this) and important services are up.

Access&#160;: coen(10.102.238.34) , port 943

I will try to list all hacks and open issues.

1. Location of credentials files:
According to Kaarle it should stay in configuration volume and when node boot it should be copied to /tmp (Same approach what used for ldap database)
--D&amp;S and Foundation team need to change this.
-- SS_Fconfigure copy the 'security' directory to config volume
-- SS_BPConf script which used to copy the database need to copy the 'security' directory also.

2. Changes in commissioning script to adopt the credential data handling
-- I will made the changes

3. Change in symlink of &quot;fpldap.secret&quot;
It should point to &quot;/tmp/security/credentials/ldap/fsLDAPRoot.cred&quot;
SS_MOMfsSecurity, rpm post script should be changed.

4. Perl path 
-- Know issue, we will check

5. SS_DDBPTypes.sh (In FP4 know as SS_DDBPTypes.sh)
Now I have hacked the script, it only add the user &quot;fsLDAPRoot&quot; and skip other user and group add.

'fsgroupadd' now failing, two thing need to fixed
1. Jan C. will make the schema change
2. Also it should use the variable PMGMT_SERVER_ADDR instead of using 'Directory:389', probably this need to fixed in many script. We will send a list tomorrow.


6. 'fsdistribute'
As the implementation is not ready, we can have dummy file. I will publish tomorrow.

7. I have patch 'start_functions' from SS_BPBoot
Pekka will publish this today/tomorrow.

8. From env. variable &quot;PATH &quot;, /opt/nokiasiemens/bin is missing.
We will check this tomorrow.

Hope I have covered all hacks&#160;:)

~ Suvendu &amp; Pasi.  
</pre>
<p><b>TODO</b>
</p>
<ul><li> Wait for fixes from various developers. Test that all fixes work.
</li></ul>
<p><br />
</p>
<h2><span class="editsection">[<a href="../indexf87d.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit&amp;section=3" title="Edit section: 23.04.2008">edit</a>]</span> <span class="mw-headline" id="23.04.2008"> 23.04.2008 </span></h2>
<p><b>UPDATE</b>
</p><p>BUILD: XXX
</p>
<ul><li> HAS investigation delayed until we get a newer build because some needed functionality doesn't exist in 1.5 build and cannot easily be hacked manually.
</li><li> Jan C. has identified problems in more detail. At least fixes from Jan C., Jarkko A., Pasi J. and Eija A. are needed.
</li><li> Pasi J. is coordinating the effort.
</li><li> Some background info:
</li><li> Jan's mails (newer info first):
</li></ul>
<pre>
Here's something for your hungry minds.

- Jani

When running SS_DDBPTypes_prepare.sh manually: 

### some issues still under work with fsdistribute 

/opt/nokiasiemens/bin/fssetcred: line 37: /opt/Nokia_BP/bin/fsdistribute: No such file or directory


### Some perl paths missing. Is there some environment var for setting this up&#160;?

Problem:

/usr/lib/perl5/site_perl/5.8.7/Convert/ and /usr/lib/perl5/site_perl/5.8.7/Net/ not found

Hack:

cp -a /usr/lib/perl5/site_perl/5.8.7/Convert/ /usr/lib64/perl5/5.8.7/mips64-wrs-linux-gnu
cp -a /usr/lib/perl5/site_perl/5.8.7/Net/ /usr/lib64/perl5/5.8.7/mips64-wrs-linux-gnu


### Execution permissions missing. Should the permissons be set somehow centralized&#160;?

root@NETBOOT:/etc/opt/nokiasiemens/configure
% ls -ltrh
total 64K
-r--r--r-- 1 root root  183 Apr 23  2008 SS_MOMfsSecurity_finalize.sh
-r--r--r-- 1 root root   45 Apr 23  2008 SS_Sta_finalize.sh
-r--r--r-- 1 root root 1.2K Apr 23  2008 SS_AAA_translate.sh
-r--r--r-- 1 root root 1.1K Apr 23  2008 SS_BIT_translate.sh
-r-xr-xr-x 1 root root  269 Apr 23  2008 SS_BPBoot_finalize.sh
-rwxr--r-- 1 root root  535 Apr 23  2008 SS_BPConf_translate.sh
-rwxr--r-- 1 root root 8.5K Apr 23  2008 SS_BPConf_prepare.sh
-rwxr--r-- 1 root root 3.4K Apr 23  2008 SS_BPConf_finalize.sh
-r-xr-xr-x 1 root root  342 Apr 23  2008 SS_BPLog_translate.sh
-r-xr-xr-x 1 root root  262 Apr 23  2008 SS_BPLog_finalize.sh
-r--r--r-- 1 root root 1006 Apr 23  2008 01-SS_IPMgmt_translate.sh
-rwxr--r-- 1 root root  408 Apr 23  2008 SS_MOMfsPlatform_finalize.sh
-r--r--r-- 1 root root  467 Apr 23  2008 SS_SecAut_finalize.sh
-rw-r--r-- 1 root root 1.5K Apr 23  2008 SS_DDBPTypes_prepare.sh
root@NETBOOT:/etc/opt/nokiasiemens/configure
%

...

Issues to be coordinated...

Are they now here shortly (hopefully translated correctly enough ) and needing that all issues are agreed and fixed -&gt; publishing to the build and trying in practise by BI 

SS_AAA/SS_LibCredServ:

1) Shall we add gstatetab.db file to the SS_AAA:n with the entry /etc/opt/nokiasiemens/security/credentials&#160;?

2) Changing Default write path for CS /opt/Nokia_BP/etc/security/credentials -&gt; /etc/opt/nokiasiemens/security/credentials&#160;?

3) Changing rpm_scriptlibs_post.txt&#160;?
/opt/nokiasiemens/etc/security/credentials -&gt; mkdir -p /etc/opt/nokiasiemens/security/credentials

Commisioning people:
&gt;&gt;&gt;&gt;&gt;&gt;&gt;  Set env.variable FS_CRED_SERV_PATH pointing to needed place during commisioning and unset it after moving to the runtime system

Links to be fixed..:
&gt;&gt;&gt;&gt;&gt;&gt;&gt;# ls -l /opt/Nokia_BP/etc/security/credentials/
&gt;&gt;&gt;&gt;&gt;&gt;&gt;total 36
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 brocade
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 cisco3020
&gt;&gt;&gt;&gt;&gt;&gt;&gt;lrwxrwxrwx  1 root root   48 Apr 10 13:32 db_alarm -&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;/var/opt/Nokia_BP/security/credentials/db_alarm/
&gt;&gt;&gt;&gt;&gt;&gt;&gt;lrwxrwxrwx  1 root root   52 Apr 10 13:32 db_cosnaming -&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;/var/opt/Nokia_BP/security/credentials/db_cosnaming/
&gt;&gt;&gt;&gt;&gt;&gt;&gt;lrwxrwxrwx  1 root root   52 Apr 10 13:32 db_testmysql -&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;/var/opt/Nokia_BP/security/credentials/db_testmysql/
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 ftp
&gt;&gt;&gt;&gt;&gt;&gt;&gt;lrwxrwxrwx  1 root root   43 Apr 10 13:32 ldap -&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;/var/opt/Nokia_BP/pmgmt/_active/credentials
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 mm
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 nortel
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 nwi3
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 oa
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 18 17:08 rmex
&gt;&gt;&gt;&gt;&gt;&gt;&gt;drwxr-xr-x  2 root root 4096 Apr 10 13:23 ssh 

...

+ adding the old rc -script as prepare script which adds groups, users, passwords etc. (SS_DDBPTypes_prepare.sh) if the prepare phase appears to be the suitable place for this
+ solving a problem with perl module LDAP.pm which is not found in the perl path when running SS_DDBPTypes_prepare.sh manually
</pre>
<p><br />
<b>TODO</b>
</p>
<ul><li> Wait for fixes / effort estimation from Jan C., Pasi J., Jarkko A. and Eija A.
</li></ul>
<p><br />
</p>
<h2><span class="editsection">[<a href="../indexe0c3.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit&amp;section=4" title="Edit section: 22.04.2008">edit</a>]</span> <span class="mw-headline" id="22.04.2008"> 22.04.2008 </span></h2>
<p><b>UPDATE</b>
</p><p>BUILD: R_FSPR5CAT_1.5.WR.mips.0804181552.1579 (applies also to most builds with same LDAP).
</p>
<ul><li> After investigation Jan C. and Pasi J. found following underlying problems, which will take some time to fix:
</li></ul>
<pre>
Moi, 

Here's a status report for today.

Short:

- LDAP schemas does not fully work --&gt; static deployment for security.ldif fails
- Users have not been added to the system --&gt; ipscript fails
- the script which adds users in the system is not run during commissoning. The possibility if it should be run in configure phase should be investigated (or is prepare -phase enought).
  (&quot;fssetcred ldap fsLDAPRoot -p -c&quot; fails when run manually)

Long:

- When LD_LIBRARY_PATH points to /opt/nokiasiemens/lib (as it should) --&gt; the LDAP bind done by SS_IPMgmt defaults to anonymous --&gt; LDAP modifications are not allowed and will fail (as should)


+ fsipnet vrf add 0 name vrf0
2000-01-01 00:02:20,745 [DEBUG] Common.py(149): Contacting ldap://localhost:389 anonymously
2000-01-01 00:02:20,754 [DEBUG] Common.py(181): ldap.search_s(base=&quot;fsFragmentId=VRF,fsFragmentId=IP,fsClusterId=ClusterRoot&quot;, scope=&quot;subtree&quot;, filterstr=&quot;(&amp;(objectClass=FSIPVRF)(fsipVRFId=0))&quot;)
2000-01-01 00:02:20,760 [DEBUG] Common.py(181): ldap.search_s(base=&quot;fsFragmentId=VRF,fsFragmentId=IP,fsClusterId=ClusterRoot&quot;, scope=&quot;subtree&quot;, filterstr=&quot;(&amp;(objectClass=FSIPVRF)(fsipVRFName=vrf0))&quot;)
2000-01-01 00:02:20,763 [DEBUG] NetworkObject.py(531): Checking fragment existence.
2000-01-01 00:02:20,765 [DEBUG] Common.py(181): ldap.search_s(base=&quot;fsFragmentId=IP,fsClusterId=ClusterRoot&quot;, scope=&quot;one&quot;, filterstr=&quot;fsFragmentId=VRF&quot;)
2000-01-01 00:02:20,769 [DEBUG] Common.py(208): ldap.add_s(&quot;fsipVRFId=0,fsFragmentId=VRF,fsFragmentId=IP,fsClusterId=ClusterRoot&quot;, [('objectClass', ['FSIPVRF']), ('fsipVRFId', ['0']), ('fsipVRFName', ['vrf0'])])
LDAP error: Strong(er) authentication required
root@NETBOOT:/


##
# Wrapper singleton class for python-ldap's ldap class.
class ILdap:
    # Storage for the singleton instance reference
    __instance = None

    def __init__(self):
        if ILdap.__instance is None:
            server_uri = &quot;ldap://%s&quot;&#160;% (os.getenv(&quot;PMGMT_SERVER_ADDR&quot;, &quot;directory:389&quot;), )

            status, cred = commands.getstatusoutput('fsgetcred ldap fsLDAPRoot') &lt;-------------------------------------------------------- 
            if os.WIFEXITED(status) and os.WEXITSTATUS(status) == 0:
                # Credentials found -&gt; bind as fsLDAPRoot
                who = &quot;uid=fsLDAPRoot,ou=People,fsFragmentId=Security,fsClusterId=ClusterRoot&quot;
            elif os.WIFEXITED(status) and os.WEXITSTATUS(status) == 127:
                # fsgetcred command not found -&gt; not in FS cluster
                who  = os.getenv(&quot;SS_IPMGMT_LDAP_USER&quot;, &quot;fsClusterId=ClusterRoot&quot;)
                cred = os.getenv(&quot;SS_IPMGMT_LDAP_CRED&quot;, &quot;secret&quot;)
            else:
                # Not authorised to get credentials -&gt; bind anonymously  
                who  = &quot;&quot;
                cred = &quot;&quot;

            if who: log().debug(&quot;Contacting&#160;%s as&#160;%s&quot;, server_uri, who)
            else:   log().debug(&quot;Contacting&#160;%s anonymously&quot;, server_uri)

            try:
                l = ldap.initialize(server_uri)
                l.simple_bind_s(who, cred)
                ILdap.__instance = l
            except ldap.LDAPError, le:
                raise Exceptions.LDAPError(le)


- The fsgetcred returns 127 when LD_LIBRARY_PATH is not set --&gt; non-anonymous and ipscript seems to work

% ./fsgetcred ldap fsLDAPRoot
./fsgetcred: error while loading shared libraries: libcredServCpp.so: cannot open shared object file: No such file or directory
root@NETBOOT:/opt/nokiasiemens/bin
% echo $?
127

- Now when LD_LIBRARY_PATH is set exution defaults to anonymous branch because user fsLDAPRoot and other users have not been created in the system

% LD_LIBRARY_PATH=/opt/nokiasiemens/lib/ ./fsgetcred ldap fsLDAPRoot
PASSWORD NOT ACCESSIBLE!
root@NETBOOT:/opt/nokiasiemens/bin
% echo $?
1

- The users have not been created because the SS_DDBPTypes.rc.1.sh is not run

- There is also a problem with the static deployment concerning the security fragment. There are same problems as Kari Hautio has met in PPC with the ldap schemas.

- When the same schema changes were done (hacked) --&gt; the static deployment seems to be ok. The hacks should be thought over (i.e. is this the correct way to do this)

- When the SS_DDBPTypes.rc.1.sh is now tried to be executed manually as a &quot;prepare&quot; -script fssetcred gives the following error (propably because ro -mount?)

root@NETBOOT:/etc/opt/nokiasiemens/configure
% bash -x ./SS_DDBPTypes.sh
+ trap 'exit 1' ERR
+ LDAPARGS='-h localhost -D fsClusterId=ClusterRoot -x -y /etc/opt/nokiasiemens/ldapfiles/fssecldap.clusterroot'
++ fsmkpasswd
+ PASSWORD=Ki5Mo4wPLuRO0zvQnA4TDoOAnhKAhqbaMRGdw4tZDodEjOerQ9lUvrjbh0cPoPyI
+ LDAPROOT=uid=fsLDAPRoot,ou=People,fsFragmentId=Security,fsClusterId=ClusterRoot
+ ldapadd -h localhost -D fsClusterId=ClusterRoot -x -y /etc/opt/nokiasiemens/ldapfiles/fssecldap.clusterroot
adding new entry &quot;uid=fsLDAPRoot,ou=People,fsFragmentId=Security,fsClusterId=ClusterRoot&quot;

+ ldappasswd -h localhost -D fsClusterId=ClusterRoot -x -y /etc/opt/nokiasiemens/ldapfiles/fssecldap.clusterroot -s Ki5Mo4wPLuRO0zvQnA4TDoOAnhKAhqbaMRGdw4tZDodEjOerQ9lUvrjbh0cPoPyI uid=fsLDAPRoot,ou=People,fsFragmentId=Security,fsClusterId=ClusterRoot
Result: Success (0)
+ echo Ki5Mo4wPLuRO0zvQnA4TDoOAnhKAhqbaMRGdw4tZDodEjOerQ9lUvrjbh0cPoPyI
+ fssetcred ldap fsLDAPRoot -p -c
Password file MODIFICATION/CREATION failed for service ldap and user fsLDAPRoot
++ exit 1
root@NETBOOT:/etc/opt/nokiasiemens/configure
%
</pre>
<p><br />
</p>
<ul><li> In the mean time older build will be taken into use to continue investigating possible HAS issues. Build R_FSPR5CAT_1.5.WR.mips.0804172351.1573 is used. Following <a href="Integration_Project_FP5_Cat_BI_HACKS.html#HACK2._Start_HAS_with_old_1.5_build_.28.2A.1573mips.2C_instructions_incomplete.29" title="Integration Project FP5 Cat BI HACKS"> hacks</a> were performed, but some more input is needed from HAS team before HAS can be started.
</li></ul>
<p><b>TODO</b>
</p>
<ul><li> Wait for fixes / effort estimation from Jan C. and Pasi J.
</li><li> Wait for some consultation from HAS-team to start HAS in cluster, so that other problems can be investigated.
</li></ul>
<p><br />
</p>
<h2><span class="editsection">[<a href="../index9afb.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit&amp;section=5" title="Edit section: 21.04.2008">edit</a>]</span> <span class="mw-headline" id="21.04.2008"> 21.04.2008 </span></h2>
<p><b>UPDATE 3</b>
</p><p>BUILD: XXX (not yet tested)
</p>
<ul><li> Fixes from Tuomo T. for commissioning time ldap problem which is the cause for ipscript failing previously. Ldap version changed from FlexiLDAP to WindRiver LDAP. Comments: <em>Added -DLDAP_DEPRECATED option into CLOCALOPTS in makefile. This is a temporary solution in order to get SS_LibGetBindIP to compile with newer LDAP API. A proper solution (meaning taking the new API into use) should be implemented in the future.</em>
</li><li> flexman added same variable globally, because other subsystems have the same problem with depricated api.
</li><li> flexman downgraded SS_DDBPTYPES_4.17 -&gt; SS_DDBPTYPES_4.16 which seemd to cause the other commissioning problem with previous build. That might also be a problem with fssrcli, needs to be checked.
</li></ul>
<p><b>TODO</b>
</p>
<ul><li> Wait for new build with all the fixes. Test if more changes are needed for subsystems to work with WindRiver LDAP.
</li><li> NOTE: * There is a build freeze. New 1.6 build with all the changes should be ready by tomorrow morning.
</li></ul>
<p><br />
</p><p><b>UPDATE 2</b>
</p><p>BUILD: R_FSPR5CAT_1.5.WR.mips.0804211620.1584
</p>
<ul><li> Fix for Octeon deployment included: SS_DDBPTYPES_4.16 -&gt; SS_DDBPTYPES_4.17
</li><li> Commissioning failed:
</li></ul>
<pre>
2000-01-01 00:01:13,313 root   &#160;: DEBUG  /opt/nokiasiemens/bin/fssrcli -ifv
2000-01-01 00:01:13,975 root   &#160;: ERROR  # Using default ldap host ldap://localhost:389
Traceback (most recent call last):
  File &quot;/opt/nokiasiemens/bin/fssrcli&quot;, line 609, in&#160;?
    if __name__ == &quot;__main__&quot;: main()
  File &quot;/opt/nokiasiemens/bin/fssrcli&quot;, line 586, in main
    configuration = StorageConfigurator (g_server,&quot;fshwSANName=0,fsFragmentId=HW,fsClusterId=ClusterRoot&quot;)
  File &quot;/opt/nokiasiemens/bin/fssrcli&quot;, line 65, in __init__
    self.m_ldapconfiguration = LDAPStorageConfiguration( server )
  File &quot;/opt/nokiasiemens/bin/LDAPStorageConfiguration.py&quot;, line 320, in __init__
    self.initialize()
  File &quot;/opt/nokiasiemens/bin/LDAPStorageConfiguration.py&quot;, line 395, in initialize
    self.add_filesystems_in_hierarchy ()
  File &quot;/opt/nokiasiemens/bin/LDAPStorageConfiguration.py&quot;, line 502, in add_filesystems_in_hierarchy
    filesystem.set_parent(self.m_storage_resources_name[filesystem.get_device_name()])
KeyError: '/dev/drbd0'
2000-01-01 00:01:13,978 root   &#160;: ERROR  Failed to create the partitioning and logical volume creation /opt/nokiasiemens/bin/fssrcli -ifv
ERR:make_partition failed
</pre>
<ul><li> flexman downgraded SS_DDBPTYPES_4.17 -&gt; SS_DDBPTYPES_4.16 which seemd to cause the problem. This might also be a problem with fssrcli.
</li><li> Following hack may still be needed: <a href="Integration_Project_FP5_Cat_BI_HACKS.html#H1._Pam_authentication_not_working._Enable_SSH." title="Integration Project FP5 Cat BI HACKS"> Pam authentication not working. Enable SSH.</a>
</li><li> There is a build freeze. New 1.6 build with all the changes should be ready by tomorrow morning.
</li></ul>
<p><b>TODO</b>
</p>
<ul><li> Wait for new build with all the fixes.
</li></ul>
<p><br />
</p><p><b>UPDATE</b>
</p><p>BUILD: R_FSPR5CAT_1.5.WR.mips.0804190145.1581
</p>
<ul><li> SS_BPConf caused the ipscript problem last Friday, it was downgraded from SS_BPConf 1.33 to 1.35. Changes in 1.35 are still needed in the build.
</li><li> PATH and LD_LIBRARY_PATH are still missing.
</li><li> HAS gives following error message when I try to start it up manually:
</li></ul>
<pre>Jan  1 00:10:29 err localhost fshascli: HASAPI::initialize: could not connect to HAS State Management: SS_Pro&#160;:: hasmsg &lt; ConnectionHandler.cpp&#160;: 565 &gt; Could not connect to the host ( POLLERR Addr:127.0.0.4:49305 )
Jan  1 00:10:29 err localhost fshascli: HASAPI::initialize: failed with SS_Pro&#160;:: hasmsg &lt; ConnectionHandler.cpp&#160;: 565 &gt; Could not connect to the host ( POLLERR Addr:127.0.0.4:49305 )
</pre>
<p><b>TODO</b>
</p>
<ul><li> Wait for comments from developers.
</li></ul>
<p><br />
</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 49/1000000
Preprocessor generated node count: 104/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1873-0!*!0!!en!*!* and timestamp 20240823050709 -->
</div><div class="printfooter">
Retrieved from "<a href="../indexb55f.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;oldid=5352">http://sugar.fp.nsn-rdnet.net/wiki/index.php?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;oldid=5352</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<h2>Navigation menu</h2>
	<div id="p-cactions" class="portlet" role="navigation">
		<h3>Views</h3>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="Integration_Project_FP5_Cat_BI_STATUS_WEEK_17.html" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="../index4f6d.html?title=Talk:Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="../indexbf07.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=edit" primary="1" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="../index092c.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal" role="navigation">
		<h3>Personal tools</h3>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="User_10.143.81.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.143.81.182</a></li>
				<li id="pt-anontalk"><a href="User_talk_10.143.81.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
				<li id="pt-createaccount"><a href="../indexa508.html?title=Special:UserLogin&amp;returnto=Integration+Project+FP5+Cat+BI+STATUS+WEEK+17&amp;type=signup">Create account</a></li>
				<li id="pt-anonlogin"><a href="../indexfa75.html?title=Special:UserLogin&amp;returnto=Integration+Project+FP5+Cat+BI+STATUS+WEEK+17" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo" role="banner">
<a href="Main_Page.html" style="background-image: url(../skins/common/images/wiki.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="SugarWiki_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="SugarWiki_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="POC_(Chengdu).html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="Help_Contents.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet" role="search">
		<h3><label for="searchInput">Search</label></h3>
		<div id="searchBody" class="pBody">
			<form action="http://sugar.fp.nsn-rdnet.net/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search SugarWiki [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb" role="navigation">
		<h3>Toolbox</h3>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Integration_Project_FP5_Cat_BI_STATUS_WEEK_17.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Integration_Project_FP5_Cat_BI_STATUS_WEEK_17.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="../index1e25.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
				<li id="t-permalink"><a href="../indexb55f.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;oldid=5352" title="Permanent link to this revision of the page">Permanent link</a></li>
				<li id="t-info"><a href="../indexe529.html?title=Integration_Project_FP5_Cat_BI_STATUS_WEEK_17&amp;action=info">Page information</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer" role="contentinfo">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 25 April 2008, at 18:01.</li>
		<li id="viewcount">This page has been accessed 87 times.</li>
		<li id="privacy"><a href="SugarWiki_Privacy_policy.html" title="SugarWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="SugarWiki_About.html" title="SugarWiki:About">About SugarWiki</a></li>
		<li id="disclaimer"><a href="SugarWiki_General_disclaimer.html" title="SugarWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi"], null, true);
}</script>
<script src="../loadc9d9.html?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<!-- Served in 0.252 secs. --></body>
<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php/Integration_Project_FP5_Cat_BI_STATUS_WEEK_17 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:37:19 GMT -->
</html>