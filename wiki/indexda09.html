<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php?title=Publishing_and_deploying_test_applications&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:17:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Publishing and deploying test applications - SugarWiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.21.1" />
<meta name="robots" content="noindex,follow" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="index44e5.html?title=Publishing_and_deploying_test_applications&amp;action=edit" />
<link rel="edit" title="Edit" href="index44e5.html?title=Publishing_and_deploying_test_applications&amp;action=edit" />
<link rel="shortcut icon" href="http://sugar.fp.nsn-rdnet.net/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.html" title="SugarWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api251f.html?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="SugarWiki Atom feed" href="index890f.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load618b.html?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.monobook&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load711e.html?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wikidb:resourceloader:filter:minify-css:7:7a3748d34e6456ae8d0f053363f745f7 */</style>

<script src="loadaa7b.html?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Publishing_and_deploying_test_applications","wgTitle":"Publishing and deploying test applications","wgCurRevisionId":6666,"wgArticleId":1943,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Publishing_and_deploying_test_applications","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: wikidb:resourceloader:filter:minify-js:7:a02a7fa766593347c4dbb130a7c3803e */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Publishing_and_deploying_test_applications skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Publishing and deploying test applications</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From SugarWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This page contains summary of deployment and publishing processes for Cat test applications. The instructions in this page are not thorough. You can get more information from:
</p>
<ul><li> FP developer's guides. The links to the guides are available in <a rel="nofollow" class="external text" href="https://inside.nokiasiemensnetworks.com/global/Company/Organisation/COO/Research_Technology_and_Plattforms/RTP_platform_development/Product_management/FlexiPlatform/FP_DevelopersPages/FlexiPlatformDevelopersPages_Home.htm">FlexiPlatform Developer's pages</a>. Specially <a rel="nofollow" class="external text" href="https://pi.inside.nokiasiemensnetworks.com/urn.htm?id=09006c37802f6f1b&amp;docb=espoo11&amp;auth=T&amp;version=current&amp;document_id=13-276890">HAS Developer's Guide</a> is important reading for undestanding the deployment concepts. 
</li><li> Flexman's Guides from their web page <a rel="nofollow" class="external autonumber" href="http://halti.ntc.nokia.com/FlexiServer_SCM/Flexi_platform/index.php">[1]</a>, 
</li><li> Our guides in this wiki: <a href="index.php/TFRM.html" title="TFRM">TFRM</a>, <a href="index.php/TFRM_Software_Development_Guide.html" title="TFRM Software Development Guide">TFRM_Software_Development_Guide</a>
</li></ul>
<p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Development_and_publishing"><span class="tocnumber">1</span> <span class="toctext">Development and publishing</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.22Cross-pula.22"><span class="tocnumber">1.1</span> <span class="toctext">"Cross-pula"</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Deployment"><span class="tocnumber">2</span> <span class="toctext">Deployment</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Planning_the_deployment_step_by_step"><span class="tocnumber">2.1</span> <span class="toctext">Planning the deployment step by step</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Development_and_publishing"> Development and publishing </span></h2>
<p>In Cat you should always be doing the development work in the main branch (1.9, 1.10, etc...) so start your activities there.
</p>
<pre>$ /build/fvntools/seed/setums.pl
 1) R_FSPR4CHA_1.29.corrections
 2) R_FSPR4CHA_1.30
 3) R_FSPR5CAT_1.4.1.1
 4) R_FSPR5CAT_1.7.1.2.1.0
 5) R_FSPR5CAT_1.7.1.3
 6) R_FSPR5CAT_1.8.1.0
 7) R_FSPR5CAT_1.9        &lt;----------------- Select this
</pre>
<p>When you get some work done, you publish it in SNV using <b>svntaskpublish.pl</b> command first in the main branch. In ClearCase side <b>pula</b> command is used
</p>
<pre>$ svntaskpublish.pl $MKCS_RISLABEL ss_testxxx
...
Publishing changes SS_TESTXXX_1.10 to R_FSPR5CAT_1.9
...
</pre>
<h3> <span class="mw-headline" id=".22Cross-pula.22"> "Cross-pula" </span></h3>
<p>If there is an active parallel testing branch (like Bobcat), and some users request the test application there, then you can publish the same tag already published in the main branch to the testing branch also. In ClearCase side the similar procedure was called cross-pula, so we might be using that word in the project meetings. It just means that the same locked tag is published to more than one branch. 
</p>
<pre>$ svntaskpublish.pl R_FSPR5CAT_1.7.1.3 SS_TESTXXX_1.10
...
Publishing changes SS_TESTXXX_1.10 to R_FSPR5CAT_1.7.1.3
...

</pre>
<p>After this example you would have SS_TestXXX_1.10 in Cat main branch and in Bobcat branch. After you have made the announcement all the files that you have included in the copying script of the subsystem should be visible in the next correction build of the relevant branch. Currently in Cat, all published tags are not automatically included, so you may need to send e-mail to <a rel="nofollow" class="external text" href="mailto:DG.COO-RTP-PD-SWRD-FP-CAT-BI@nsn.com">COO-RTP-PD-SWRD-FP-CAT-BI DG Flexman</a> saying: <i>SS_TESTXXX_1.10 was announced to R_FSPR5CAT_1.7.1.3. Could I get included to following architectures: rhel:x86 rhel:x86_64 wr:x86 wr:x86_64 wr:ppc wr:mips.</i> You can check the current situation from $VOBTAG/flexiserver/build.config.
</p><p>After some time you should be able to commission a cluster where you can see all the latest files of your subsystem. That’s phase one completed!
</p>
<h2> <span class="mw-headline" id="Deployment"> Deployment </span></h2>
<p>We use word <i>deployment</i> specifically meaning the deployment scheme for High Availablity Services (HAS). After plain publish with svntaskpublish.pl in LinSEE your files get deployed to the system, and you are fine if the application doesn't need HAS for anything, but that's not what we call the deployment. Usually you need HAS if the test application needs external network connections or if it has to be able to survive switchovers.
</p><p>Planning the deployment means planning which test application processes you want HAS to start in which nodes and with what arguments. If the deployment works properly, the test application can be started and stopped with fshascli command in CLA. E.g. 
</p>
<pre>fshascli -u /TestXXX /CLA-0/FSTestXXXServer
</pre>
<p>With HAS, the individual processes are grouped in Recovery Units (RU) and the RUs belong to a Recovery Group (RG). These entities are called Managed Objects (MO). See <a rel="nofollow" class="external text" href="https://pi.inside.nokiasiemensnetworks.com/urn.htm?id=09006c37802f6f1b&amp;docb=espoo11&amp;auth=T&amp;version=current&amp;document_id=13-276890">HAS Developer's Guide</a> for more detailed explanation.
</p><p>There are many things you can control in the deployment data, the most important being the path of the commad to start, and what arguments to pass to it. Usually one of the arguments is the location of the configuration file, so deciding where to put the configuration is part of planning the deployment. One example of more advanced things you can control is for example the maximum amount of memory that HAS will let your process to use.
</p><p>The responsibilty in managing the deployment is divided between the developer (you) and depman (deployment manager, Tomi Juvonen). You create and publish the process type definition and depman creates the RU and RG definitions and publishes them. However, you have to tell depman what kind of RUs and RGs to create, and they depend on how the test application is supposed to be used. We have agreed with Tomi that we try to use the same deployment in all hardware environments, so don't make plans separataly for each possible environment. Instead, plan if the application needs to run in single or multinode environments or both and if it runs on multinode environments does it run on all nodes or on CLA's only.
</p><p>It's good to notice the distinction between Managed Objects (RG, RU, Process) and Managed Object Types (RG type, RU type, process type). When planning the deployment you define the types only. When depman creates the actual deployments, he will link your MO types to the node types of the target enviroment, which results in concrete MOs running in concrete nodes in a live cluster. We usually just say "RU" when we actually mean "RU type", but usually it's clear from the context if we are talking about the types or not.
</p>
<h3> <span class="mw-headline" id="Planning_the_deployment_step_by_step"> Planning the deployment step by step </span></h3>
<ol><li> <b>Find out</b> how the test application is going to be used. The best source for this information is usually to ask from the responsible test engineer. Sometimes the developer of the feature has ideas how to test it, and of course you can make your own guess what would be most useful deployment in testing.
<ul><li>Does the application use network connections? 
</li><li>Is it a server that listens for incoming connection? 
</li><li>Is it a client that actively tries to open connections? 
</li><li>Are both modes needed? 
</li><li>Does it run on single node environments or in clusters or both? 
</li><li>In clusters, does it run only on CLAs or on all nodes? 
</li></ul>
</li><li> <b>Plan the processes</b> you need to start in different nodes.
</li><li> <b>Plan how you organize the processes in recovery units.</b> Usually there is only one process in a RU and one or two RU types in the RG. There are instructions in http<a href="index.php/TFRM_Software_Development_Guide.html#Deployment_rules" title="TFRM Software Development Guide">TFRM_Software_Development_Guide#Deployment_rules</a>
</li><li> <b>Write and publish SS_TestXXX_processtypes.ldif</b> and make sure it gets copied to the ldif_in directory (see older subsystems). Structure of the file is explained in the HAS Developer's Guide. Depman cannot and will not create any RUs for you before your processtypes are in the build.
</li><li> <b>Send email to depman</b> telling the names of your MOs and in which node types the RUs should exist: in CLA nodes, AS nodes, or both. Depman will then create the ldifs for the RUs/RGs and announce those to the next build. Usually the deployment changes should be announced to the main branch. Changes should never be announced to the secondary branch only. Depman needs to know:
<ul><li> the name for the RG(s) (e.g. /TestXXX), 
</li><li> the RU types that the RG contains (e.g. /*/FSTestXXXServer),
</li><li> the process types that each RU type contains (e.g. /*/FSTestXXXServer/TestXXX).  
</li></ul>
</li></ol>
<p>After some time you should be able to commission a cluster where you can see the new recovery group with "hascli -v /TestXXX". Test that the application actually works when you unlock the RUs and you're done!
</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 15/1000000
Preprocessor generated node count: 20/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1943-0!*!0!!en!*!* and timestamp 20240823044242 -->
</div><div class="printfooter">
Retrieved from "<a href="indexfb65.html?title=Publishing_and_deploying_test_applications&amp;oldid=6666">http://sugar.fp.nsn-rdnet.net/wiki/index.php?title=Publishing_and_deploying_test_applications&amp;oldid=6666</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<h2>Navigation menu</h2>
	<div id="p-cactions" class="portlet" role="navigation">
		<h3>Views</h3>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php/Publishing_and_deploying_test_applications.html" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="index4172.html?title=Talk:Publishing_and_deploying_test_applications&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="index44e5.html?title=Publishing_and_deploying_test_applications&amp;action=edit" primary="1" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="index3bfd.html?title=Publishing_and_deploying_test_applications&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal" role="navigation">
		<h3>Personal tools</h3>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="index.php/User_10.143.81.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">10.143.81.182</a></li>
				<li id="pt-anontalk"><a href="index.php/User_talk_10.143.81.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
				<li id="pt-createaccount"><a href="index4562.html?title=Special:UserLogin&amp;returnto=Publishing+and+deploying+test+applications&amp;returntoquery=printable%3Dyes&amp;type=signup">Create account</a></li>
				<li id="pt-anonlogin"><a href="indexec2f.html?title=Special:UserLogin&amp;returnto=Publishing+and+deploying+test+applications&amp;returntoquery=printable%3Dyes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo" role="banner">
<a href="index.php/Main_Page.html" style="background-image: url(skins/common/images/wiki.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="index.php/Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="index.php/SugarWiki_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="index.php/SugarWiki_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="index.php/Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="index.php/POC_(Chengdu).html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="index.php/Help_Contents.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet" role="search">
		<h3><label for="searchInput">Search</label></h3>
		<div id="searchBody" class="pBody">
			<form action="http://sugar.fp.nsn-rdnet.net/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search SugarWiki [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb" role="navigation">
		<h3>Toolbox</h3>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="index.php/Special_WhatLinksHere/Publishing_and_deploying_test_applications.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="index.php/Special_RecentChangesLinked/Publishing_and_deploying_test_applications.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="index.php/Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-permalink"><a href="indexfb65.html?title=Publishing_and_deploying_test_applications&amp;oldid=6666" title="Permanent link to this revision of the page">Permanent link</a></li>
				<li id="t-info"><a href="index13c6.html?title=Publishing_and_deploying_test_applications&amp;action=info">Page information</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer" role="contentinfo">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 26 August 2008, at 10:48.</li>
		<li id="viewcount">This page has been accessed 52 times.</li>
		<li id="privacy"><a href="index.php/SugarWiki_Privacy_policy.html" title="SugarWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="index.php/SugarWiki_About.html" title="SugarWiki:About">About SugarWiki</a></li>
		<li id="disclaimer"><a href="index.php/SugarWiki_General_disclaimer.html" title="SugarWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi"], null, true);
}</script>
<script src="load17b7.html?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;printable=1&amp;skin=monobook&amp;*"></script>
<!-- Served in 0.237 secs. --></body>
<!-- Mirrored from sugar.fp.nsn-rdnet.net/wiki/index.php?title=Publishing_and_deploying_test_applications&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Aug 2024 05:17:35 GMT -->
</html>